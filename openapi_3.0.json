{
  "info": {
    "description": "Domino has two types of APIs: **API Endpoints** which let you publish your code as a low-latency web service without any API design experience and the **Domino API** which lets you allow you to interact with your project's files and runs.\n\nTwo important notes:\n\n1. Your API base URL will depend on your deployment of Domino. Replace the URL with the URL of your private Domino deployment (the site you visit in your browser when you use Domino)\n\n2. To authenticate your requests, include your API Key (which you can find on your account page) with the header `X-Domino-Api-Key` .",
    "title": "Domino Data Lab APIs",
    "version": ""
  },
  "paths": {
    "/v1/projects/{username}/{project_name}/blobs/{blob_id}": {
      "get": {
        "parameters": [
          {
            "description": "The project owner's username",
            "in": "path",
            "name": "username",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The project name",
            "in": "path",
            "name": "project_name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The unique ID of the blob",
            "in": "path",
            "name": "blob_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {}
          }
        },
        "tags": [
          "Project Runs and Files"
        ],
        "description": "Get the contents of a file from the project",
        "summary": "Get a file"
      }
    },
    "/v1/projects/{username}/{project_name}/files/{commit_id}/{path}": {
      "get": {
        "parameters": [
          {
            "description": "The project owner's username",
            "in": "path",
            "name": "username",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The project name",
            "in": "path",
            "name": "project_name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The commit ID of the version of the project you want files for",
            "in": "path",
            "name": "commit_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The path for which you want files for",
            "in": "path",
            "name": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {}
          }
        },
        "tags": [
          "Project Runs and Files"
        ],
        "description": "Get a list of files in a commit",
        "summary": "List files"
      }
    },
    "/v1/projects/{username}/{project_name}/runs": {
      "get": {
        "parameters": [
          {
            "description": "The project owner's username",
            "in": "path",
            "name": "username",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The project name",
            "in": "path",
            "name": "project_name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "response": {
                    "value": {
                      "data": [
                        {
                          "commitId": "1c6e8aa47951e39f9a905f0077af9355c35b712b",
                          "completed": 1473969762970,
                          "diagnoisticStatistics": {
                            "data": [
                              {
                                "key": "R^2",
                                "value": "1.000"
                              }
                            ],
                            "isError": false
                          },
                          "executor": "us-west-2:i-007942020ce7baeb5",
                          "hardwareTierId": "gpu",
                          "id": "57dafe43317467e7b0ef5276",
                          "isArchived": false,
                          "isCompleted": true,
                          "number": 5,
                          "outputCommitId": "73fe9481fe635bada713246c3c739beefa424e8c",
                          "postProcessedTimestamp": 1473969767822,
                          "projectId": "54c17e92e4b0bc49e27d9398",
                          "queued": 1473969731915,
                          "started": 1473969754283,
                          "startingUserId": "57a28b28961401f240812caf",
                          "status": "Succeeded",
                          "title": "Run with great R^2 of 1!"
                        }
                      ],
                      "objectType": "list",
                      "uri": ""
                    }
                  }
                },
                "schema": {
                  "properties": {
                    "data": {
                      "description": "Array of run statuses",
                      "items": {},
                      "type": "array"
                    },
                    "objectType": {
                      "description": "The type of object the API returned",
                      "type": "string"
                    },
                    "uri": {
                      "description": "The URI that responded to your request",
                      "type": "string"
                    }
                  },
                  "type": "object"
                }
              }
            },
            "description": "OK",
            "headers": {}
          }
        },
        "tags": [
          "Project Runs and Files"
        ],
        "description": "Get a list of runs",
        "summary": "List of Runs"
      },
      "post": {
        "parameters": [
          {
            "description": "The project owner's username",
            "in": "path",
            "name": "username",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The project name",
            "in": "path",
            "name": "project_name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "response": {
                    "value": {
                      "message": "Run for project <username>/<project_name> started. You can view progress here: https://app.dominodatalab.com/<username>/<project_name/runs/553af271e4b0364c0f717b24",
                      "runId": "553af271e4b0364c0f717b24"
                    }
                  }
                },
                "schema": {
                  "properties": {
                    "message": {
                      "description": "A human-readable message with a full link to view the status of your run",
                      "type": "string"
                    },
                    "runId": {
                      "description": "The unique ID for the run that was just started",
                      "type": "string"
                    }
                  },
                  "type": "object"
                }
              }
            },
            "description": "OK",
            "headers": {}
          }
        },
        "tags": [
          "Project Runs and Files"
        ],
        "description": "Start a run of a given script or command",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "command": {
                    "description": "Array of strings making up your command. For example:\n\n```python\n        [\"model.py\", \"dataset\", \"--sample\", \"2000\"]\n```"
                  },
                  "commitId": {
                    "description": "Revision at which to start the run",
                    "type": "string"
                  },
                  "isDirect": {
                    "description": "A direct command is interpretted as a shell command; Domino doesn't try to infer a program to match your file type",
                    "type": "boolean"
                  },
                  "publishApiEndpoint": {
                    "description": "If true, the results of a successful run will be deployed to the project's active API Endpoint, if one exists",
                    "type": "boolean"
                  },
                  "tier": {
                    "description": "Identifier of the hardware tier to use",
                    "type": "string"
                  },
                  "title": {
                    "description": "An optional title for your run",
                    "type": "string"
                  }
                },
                "required": [
                  "command",
                  "isDirect"
                ],
                "type": "object"
              }
            }
          }
        },
        "summary": "Start Run"
      }
    },
    "/v1/projects/{username}/{project_name}/runs/{run_id}": {
      "get": {
        "parameters": [
          {
            "description": "The project owner's username",
            "in": "path",
            "name": "username",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The project name",
            "in": "path",
            "name": "project_name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The unique ID for the run",
            "in": "path",
            "name": "run_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "response": {
                    "value": {
                      "commitId": "1c6e8aa47951e39f9a905f0077af9355c35b712b",
                      "completed": 1473969762970,
                      "diagnoisticStatistics": {
                        "data": [
                          {
                            "key": "R^2",
                            "value": "1.000"
                          }
                        ],
                        "isError": false
                      },
                      "executor": "us-west-2:i-007942020ce7baeb5",
                      "hardwareTierId": "gpu",
                      "id": "57dafe43317467e7b0ef5276",
                      "isArchived": false,
                      "isCompleted": true,
                      "number": 5,
                      "outputCommitId": "73fe9481fe635bada713246c3c739beefa424e8c",
                      "postProcessedTimestamp": 1473969767822,
                      "projectId": "54c17e92e4b0bc49e27d9398",
                      "queued": 1473969731915,
                      "started": 1473969754283,
                      "startingUserId": "57a28b28961401f240812caf",
                      "status": "Succeeded",
                      "title": "Run with great R^2 of 1!"
                    }
                  }
                },
                "schema": {
                  "properties": {
                    "commitId": {
                      "description": "The commit hash of the project used to create the run",
                      "type": "string"
                    },
                    "completed": {
                      "description": "Milliseconds epoch time the run completed running",
                      "type": "number"
                    },
                    "diagnoisticStatistics": {
                      "description": "Object containing information about the run's [Diagnostic Statistics aka dominostats.json](http://support.dominodatalab.com/hc/en-us/articles/204348169-Run-Diagnostic-Statistics)",
                      "properties": {
                        "data": {
                          "items": {},
                          "type": "array"
                        },
                        "isError": {
                          "type": "boolean"
                        }
                      },
                      "type": "object"
                    },
                    "executor": {
                      "description": "The unique ID of the executor (compute node) the run was executed on",
                      "type": "string"
                    },
                    "hardwareTierId": {
                      "description": "The hardware tier the run exectued on (new in v1.42)",
                      "type": "string"
                    },
                    "id": {
                      "description": "The unique ID for the run",
                      "type": "string"
                    },
                    "isArchived": {
                      "description": "Boolean denoting if the run was archived (hidden from the web interface)",
                      "type": "boolean"
                    },
                    "isCompleted": {
                      "description": "A boolean to denote if the run has completed or is still run. See `status` for success/failure status.",
                      "type": "boolean"
                    },
                    "number": {
                      "description": "The auto-increment number associated with the run",
                      "type": "number"
                    },
                    "outputCommitId": {
                      "description": "The commit hash of the project post-run (look at files with this hash for the results)",
                      "type": "string"
                    },
                    "postProcessedTimestamp": {
                      "description": "Milliseconds epoch time the run finished processing (this happens after the run has completed and includes saving the results back to the main project repo)",
                      "type": "number"
                    },
                    "projectId": {
                      "description": "The ID of the project",
                      "type": "string"
                    },
                    "queued": {
                      "description": "Milliseconds epoch time the run was added to the queue",
                      "type": "number"
                    },
                    "started": {
                      "description": "Milliseconds epoch time the run started executing",
                      "type": "number"
                    },
                    "startingUserId": {
                      "description": "The ID of the user who started the run",
                      "type": "string"
                    },
                    "status": {
                      "description": "The status of the run",
                      "type": "string"
                    },
                    "title": {
                      "description": "Title of the run, if it was renamed",
                      "type": "string"
                    }
                  },
                  "type": "object"
                }
              }
            },
            "description": "OK",
            "headers": {}
          }
        },
        "tags": [
          "Project Runs and Files"
        ],
        "description": "Get the status of a run",
        "summary": "Run Status"
      }
    },
    "/v1/projects/{username}/{project_name}/{path}": {
      "put": {
        "parameters": [
          {
            "description": "The project owner's username",
            "in": "path",
            "name": "username",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The project name",
            "in": "path",
            "name": "project_name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Where you want the file to be saved. (You can include forward slashes to upload files into folders that exist)",
            "in": "path",
            "name": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "examples": {
                  "response": {
                    "value": {
                      "key": "5c28ab880e29953e41b91e351f786a833fbf18a5",
                      "lastModified": 1475878612000,
                      "path": "data/randomNumbers.rdata",
                      "size": 32690,
                      "url": "https://app.dominodatalab.com/v1/projects/marks/quick-start/blobs/5c28ab880e29953e41b91e351f786a833fbf18a5"
                    }
                  }
                },
                "schema": {
                  "properties": {
                    "key": {
                      "description": "The blob ID for the file. Used by the 'Get a file' API",
                      "type": "string"
                    },
                    "lastModified": {
                      "description": "Milliseconds epoch time the file was last modified",
                      "type": "number"
                    },
                    "path": {
                      "description": "Path within the project your file was saved to",
                      "type": "string"
                    },
                    "size": {
                      "description": "The size of the file you just uploaded, in bytes",
                      "type": "number"
                    },
                    "url": {
                      "description": "The full URL to the blob (this can be used to re-download the file)",
                      "type": "string"
                    }
                  },
                  "required": [
                    "path",
                    "lastModified",
                    "size",
                    "key",
                    "url"
                  ],
                  "type": "object"
                }
              }
            },
            "description": "Created",
            "headers": {}
          }
        },
        "tags": [
          "Project Runs and Files"
        ],
        "description": "Upload a file to your project",
        "summary": "Upload a file"
      }
    },
    "/v1/search": {
      "get": {
        "parameters": [
          {
            "description": "The phrase to search",
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The type of object to search. Valid values are `project`, `run`, `file`, and `comment`",
            "in": "query",
            "name": "area",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {}
          }
        },
        "tags": [
          "Search"
        ],
        "description": "Execute a search",
        "summary": "Search"
      }
    },
    "/v1/{username}/{project_name}/endpoint": {
      "post": {
        "parameters": [
          {
            "description": "The project owner's username",
            "in": "path",
            "name": "username",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The project name",
            "in": "path",
            "name": "project_name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "response": {
                    "value": {
                      "release": {
                        "commitId": "e1dfab96a6c6014767e9561059224a3153cb6de6",
                        "file": "predict.R",
                        "function": "predictQuality",
                        "version": 14
                      },
                      "requestId": "NMEOMGVJURWVPOQF",
                      "result": {
                        "a_random_number": 103
                      }
                    }
                  }
                },
                "schema": {
                  "properties": {
                    "release": {
                      "description": "An object of key/value pairs describing the version of your API endpoint that responded to your request",
                      "properties": {
                        "commitId": {
                          "description": "The commit your API endpoint is bound to",
                          "type": "string"
                        },
                        "file": {
                          "description": "The file your API endpoint is bound to",
                          "type": "string"
                        },
                        "function": {
                          "description": "The function your API endpoint is bound to",
                          "type": "string"
                        },
                        "version": {
                          "description": "The version of your API that was used",
                          "type": "number"
                        }
                      },
                      "type": "object"
                    },
                    "requestId": {
                      "description": "A unique request ID assigned to your API request",
                      "type": "string"
                    },
                    "result": {
                      "description": "The result of the function you bound to your API Endpoint. Will be either a JSON object/dictionary or array depending on what your function returns.",
                      "properties": {
                        "a_random_number": {
                          "type": "number"
                        }
                      },
                      "type": "object"
                    }
                  },
                  "type": "object"
                }
              }
            },
            "description": "OK",
            "headers": {}
          }
        },
        "tags": [
          "API Endpoints"
        ],
        "description": "Your API Endpoint is a wrapper on top of a function in your Domino-hosted code. The arguments to the API are the arguments to your function; the response from the API includes the return value from your function in the `result` object.\n\n[Learn more about API Endpoint and Model Development](http://support.dominodatalab.com/hc/en-us/articles/204173149-API-Endpoints-Model-Deployment)",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "parameters": {
                    "description": "An array of objects which directly map to the parameters of the function powering your API endpoint.\n\nFor example, if your API endpoint is powered by the following function:\n\n```python\n    def random_number(start = 10, stop = 100):\n      return random.uniform(start, stop)\n```\n\nYou would pass two number objects in to `parameters`, for example:\n\n```\n    {\"parameters\": [20, 200] }\n```",
                    "items": {},
                    "type": "array"
                  }
                },
                "required": [
                  "parameters"
                ],
                "type": "object"
              }
            }
          }
        },
        "summary": "Your awesome model"
      }
    }
  },
  "components": {
    "schemas": {
      "Get_a_file": {},
      "List_files": {},
      "List_of_Runs": {},
      "Run_Status": {},
      "Search": {},
      "Start_Run": {},
      "Upload_a_file": {},
      "Your_awesome_model": {}
    }
  },
  "openapi": "3.0.0",
  "servers": [
    {
      "url": "https://api.dominodatalab.com/"
    }
  ]
}
